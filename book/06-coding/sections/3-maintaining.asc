[[r_maintaining_gh_project]]
=== 维护项目

现在我们可以很方便地向一个项目贡献内容，来看一下另一个方面的内容：创建、维护和管理你自己的项目。

==== 创建新的版本库

让我们创建一个版本库来分享我们的项目。
通过点击面板右上角的加号的“项目”按钮。 参见 <<r_new_repo_dropdown>>。

.这是 ``你的项目列表''页面.
image::images/newrepo.png[``你的项目列表'' 区域.]

这会带你到 ``新建项目'' 表单:

.这是 ``new repository'' 表单.
image::images/newrepoform.png[``new repository'' 表单。]

因为目前暂无代码，CODING 会显示有关创建新版本库或者关联到一个已有的 Git 版本库的一些说明。
我们不会在这里详细说明此项，如果你需要复习，去看 <<ch02-git-basics#ch02-git-basics>>。

现在你的项目就托管在 CODING 上了。
CODING 上的项目可通过 HTTP 或 SSH 访问，格式是：HTTP ： `https://<企业域名>/ce/<project_name>` ， SSH ： `git@<企业域名>:ce/<project_name>` 。
Git 可以通过以上两种 URL 进行抓取和推送，但是用户的访问权限又因连接时使用的证书不同而异。

[NOTE]
====
如果你分享 SSH URL，用户必须有一个帐号并且上传 SSH 密钥才能访问你的项目。
====

==== 添加合作者

如果你想与他人合作，并想给他们提交的权限，你需要把他们添加为 ``项目成员''。
如果 Ben，Jeff，Louise 都在 CODING 企业内部了，你想给他们推送的权限，你可以将他们添加到你的项目。
这样做会给他们 ``推送'' 权限，就是说他们对项目和 Git 版本库都有读写的权限。

点击左侧栏底部的 ``设置'' 菜单。
然后从左侧菜单中选择 ``成员管理''
然后点击右上角的 ``添加成员''。
然后，选择合适的成员，将他们加入项目。

.项目协作者.
image::images/collaborators.png[项目协作者.]

==== 管理合并请求

现在你有一个包含一些代码的项目，可能还有几个有推送权限的合作者，下面来看当你收到合并请求时该做什么。

合并请求可以来自仓库的一个分支。

作为例子，假设你是 ``tonychacon'' ，你创建了一个名为 ``fade'' 的 Arduino 项目.

===== 在合并请求上进行合作

在创建玩合并请求后，现在你可以跟开启合并请求的人进行会话。
你既可以对某些代码添加注释，也可以对整个提交添加注释或对整个合并请求添加注释，在任何地方都可以用 Markdown。

每次有人在合并请求上进行注释你都会收到通知，通知你哪里发生改变。
一旦代码符合了你的要求，你想把它合并进来，你可以把代码拉取下来在本地进行合并，也可以用我们之前提到过的 `git pull <url> <branch>` 语法。

对于很琐碎的合并，你也可以用 CODING 企业版上的 ``合并'' 按钮。
它会做一个 ``non-fast-forward'' 合并，即使可以快进（fast-forward）合并也会产生一个合并提交记录。
就是说无论如何，只要你点击合并按钮，就会产生一个合并提交记录。
你可以在 <<r_merge_button>> 看到，如果你点击提示链接，CODING 会给你所有的这些信息。

[[r_merge_button]]
.合并按钮和手工合并一个合并请求的指令.
image::images/maint-02-merge.png[合并按钮]

如果你决定不合并它，你可以把合并请求关掉，开启合并请求的人会收到通知。

==== 提醒和通知

CODING 内置了一个很好的通知系统，当你需要与别人或别的团队交流时用起来很方便。

在任何评论中你可以先输入一个`@`，系统会自动补全项目中合作者或贡献者的名字和用户名。

.输入 @ 来提醒某人.
image::images/maint-05-mentions.png[提醒]

你也可以提醒不在列表中的用户，但是通常自动补全用起更快。

当你发布了一个带用户提醒的评论，那个用户会收到通知。
这意味着把人们拉进会话中要比让他们投票有效率得多。
对于 CODING 上的合并请求，人们经常把他们团队或公司中的其它人拉来审查问题或合并请求。

如果有人收到了合并请求或问题的提醒，他们会＂关注＂它，后面有新的活动发生他们都会持续收到提醒。
如果你是合并请求或者问题的发起方你也会被关注上，比如你在关注一个版本库或者你评论了什么东西。
如果你不想再收到提醒，在合并请求页面中把关注着列表中的自己删除就可以了。

==== 通知页面

当我们在这提到特指 CODING 的 ``通知中心'' ，指的是当 CODING 上有事件发生时。

.通知中心选项.
image::images/maint-07-notifications.png[通知中心]

有两个选项，通过＂邮件(Email)＂和通过＂网页(Web)＂，你可以选用一个或者都不选或者都选。

==== README

CODING 可识别 `README` 文件。
例如，它可以是 `README` ，`README.md` ， `README.asciidoc` 。
如果 GitHub 在你的版本库中找到 README 文件，会把它在项目的首页渲染出来。

很多团队在这个文件里放版本库或项目新人需要了解的所有相关的信息。
它一般包含这些内容：

* 该项目的作用
* 如何配置与安装
* 有关如何使用和运行的例子
* 项目的许可证 
* 如何向项目贡献力量

因为 GitHub 会渲染这个文件，你可以在文件里植入图片或链接让它更容易理解。

===== 改变默认分支

如果你想用 ``master'' 之外的分支作为你的默认分支，其他人将默认会在这个分支上开启合并请求或进行浏览，你可以在你版本库的分支页面的 "修改默认分支" 标签下修改。

[[r_default_branch]]
.改变项目的默认分支.
image::images/maint-10-default-branch.png[默认分支]

简单地改变默认分支下拉列表中的选项，它就会作为所有主要操作的默认分支，他人进行克隆时该分支也将被默认检出。